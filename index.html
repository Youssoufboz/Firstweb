<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2D Platformer Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: #111;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-family: Arial, sans-serif;
    }

    canvas {
        background: #87ceeb;
        border: 3px solid #fff;
    }

    .hint {
        position: fixed;
        bottom: 10px;
        color: #fff;
        font-size: 14px;
        opacity: 0.8;
    }
</style>
</head>

<body>

<canvas id="game" width="800" height="450"></canvas>
<div class="hint">Move: ← → | Jump: Space</div>

<script>
/* ===============================
   BASIC GAME ENGINE (PRO STYLE)
================================ */

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const gravity = 0.6;
const keys = {};

/* ===============================
   PLAYER
================================ */

const player = {
    x: 50,
    y: 0,
    width: 40,
    height: 50,
    color: "#ff4757",
    velX: 0,
    velY: 0,
    speed: 5,
    jumping: false
};

/* ===============================
   PLATFORMS
================================ */

const platforms = [
    { x: 0, y: 400, width: 800, height: 50 },
    { x: 200, y: 320, width: 120, height: 20 },
    { x: 400, y: 260, width: 120, height: 20 },
    { x: 600, y: 200, width: 120, height: 20 }
];

/* ===============================
   INPUT
================================ */

document.addEventListener("keydown", e => keys[e.code] = true);
document.addEventListener("keyup", e => keys[e.code] = false);

/* ===============================
   COLLISION
================================ */

function rectsCollide(a, b) {
    return (
        a.x < b.x + b.width &&
        a.x + a.width > b.x &&
        a.y < b.y + b.height &&
        a.y + a.height > b.y
    );
}

/* ===============================
   UPDATE
================================ */

function update() {
    // Horizontal movement
    if (keys["ArrowRight"]) player.velX = player.speed;
    else if (keys["ArrowLeft"]) player.velX = -player.speed;
    else player.velX = 0;

    // Jump
    if (keys["Space"] && !player.jumping) {
        player.velY = -12;
        player.jumping = true;
    }

    // Gravity
    player.velY += gravity;

    // Move
    player.x += player.velX;
    player.y += player.velY;

    // Collision with platforms
    for (let p of platforms) {
        if (rectsCollide(player, p)) {
            if (player.velY > 0) {
                player.y = p.y - player.height;
                player.velY = 0;
                player.jumping = false;
            }
        }
    }

    // Screen limits
    if (player.x < 0) player.x = 0;
    if (player.x + player.width > canvas.width)
        player.x = canvas.width - player.width;

    if (player.y > canvas.height) {
        // Reset if fallen
        player.x = 50;
        player.y = 0;
        player.velY = 0;
    }
}

/* ===============================
   DRAW
================================ */

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Player
    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // Platforms
    ctx.fillStyle = "#2f3542";
    for (let p of platforms) {
        ctx.fillRect(p.x, p.y, p.width, p.height);
    }
}

/* ===============================
   GAME LOOP
================================ */

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}

loop();
</script>

</body>
</html>